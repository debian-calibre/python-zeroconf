From: YOKOTA Hiroshi <yokota.hgml@gmail.com>
Date: Tue, 14 Jan 2025 12:53:06 +0900
Subject: Use benchmark test only if required module is available

CodSpeed is only available for amd64 and arm64.
---
 tests/benchmarks/test_incoming.py       | 2 ++
 tests/benchmarks/test_outgoing.py       | 2 ++
 tests/benchmarks/test_txt_properties.py | 2 ++
 3 files changed, 6 insertions(+)

diff --git a/tests/benchmarks/test_incoming.py b/tests/benchmarks/test_incoming.py
index 6285c19..31cfbf9 100644
--- a/tests/benchmarks/test_incoming.py
+++ b/tests/benchmarks/test_incoming.py
@@ -3,6 +3,8 @@
 import socket
 from typing import List
 
+import pytest
+pytest_codspeed = pytest.importorskip("pytest_codspeed")
 from pytest_codspeed import BenchmarkFixture
 
 from zeroconf import (
diff --git a/tests/benchmarks/test_outgoing.py b/tests/benchmarks/test_outgoing.py
index 5b7ee16..d04b458 100644
--- a/tests/benchmarks/test_outgoing.py
+++ b/tests/benchmarks/test_outgoing.py
@@ -2,6 +2,8 @@
 
 import socket
 
+import pytest
+pytest_codspeed = pytest.importorskip("pytest_codspeed")
 from pytest_codspeed import BenchmarkFixture
 
 from zeroconf import DNSAddress, DNSOutgoing, DNSService, DNSText, const
diff --git a/tests/benchmarks/test_txt_properties.py b/tests/benchmarks/test_txt_properties.py
index ad75ab3..79d3eb0 100644
--- a/tests/benchmarks/test_txt_properties.py
+++ b/tests/benchmarks/test_txt_properties.py
@@ -1,3 +1,5 @@
+import pytest
+pytest_codspeed = pytest.importorskip("pytest_codspeed")
 from pytest_codspeed import BenchmarkFixture
 
 from zeroconf import ServiceInfo
